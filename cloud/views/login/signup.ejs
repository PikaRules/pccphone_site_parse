<!DOCTYPE html>
<html>
  <head>
    <title>Login</title>

     <% include ../partials/header_include_scripts %>
     <% include ../partials/header_include_facebook %>
     <% include ../partials/header_include_styles %>

     <script type="text/javascript" src="libs/CustomRegex.js"></script>
     <script type="text/javascript" src="libs/FormValidator.js"></script>
  </head>
  <body>

    <% include ../partials/header_navbar_clean %>


    <div class="center-shrink">
        <h1 class="center header">Registration</h1>
        <div class="center" style="width:400px">
         <form class="form-horizontal" form-signup method='POST' action='/signup'>
 
            <div class="form-group">
                <label for="fistname" class=" col-sm-4">Fist name: </label>
                <div class="col-sm-8">
                  <input type="text" id="fistname" name="firstname" class="form-control firstname" placeholder="First name" required="" autofocus="">
                </div>
            </div>
            <div class="form-group">
                <label for="lastname" class=" col-sm-4">Last name: </label>
                <div class="col-sm-8">
                  <input type="text" id="lastname" name="lastname" class="form-control lastname" placeholder="Last name" required="" autofocus="">
                </div>
            </div>
            <div class="form-group">
                <label for="email" class=" col-sm-4">Email address: </label>
                <div class="col-sm-8">
                  <input type="email" id="email" name="email" class="form-control email" placeholder="Email address" required="" autofocus="">
                </div>
            </div>
            <div class="form-group">
                <label for="password" class=" col-sm-4">Password:</label>
                <div class="col-sm-8">
                  <input type="password" id="password" name='password' class="form-control password" placeholder="Password" required="">
                </div>
            </div>
            <div class="form-group">
                <label for="password2" class=" col-sm-4">Repeat Password:</label>
                <div class="col-sm-8">
                  <input type="password" id="password2" name='password2' class="form-control password2" placeholder="Password" required="">
                </div>
            </div>
            <div class="center">
                <button class="btn mybtn btn-primary" btn-create-account type="button">Create account</button>
                <button class="btn mybtn" btn-create-cancel type="button">Cancel</button>
            </div>
          </form>
          <div class="flash-message error" style="display:none;">
          </div>
        </div>

    </div>


    <script>
        $('[btn-create-cancel]').click(function(){
            location.href = '/signin';
        });

        

        form = new FormValidator([{
          elClass: 'firstname',
          verifyMethod: 'isAlpha',
          showErrorIn: 'flash-message',
          required: true
        },{
          elClass: 'lastname',
          verifyMethod: 'isAlpha',
          showErrorIn: 'flash-message',
          required: true
        },{
          elClass: 'email',
          verifyMethod: 'isEmail',
          showErrorIn: 'flash-message',
          required: true
        },{
          elClass: 'password',
          verifyMethod: 'isPasswordMN',
          showErrorIn: 'flash-message',
          required: true
        }],{
          invalidElementStyle: 'border: 1px solid red;',
          invalidElementClass: 'errors'
        });


        $('[btn-create-account]').click(function(){
            var password = $('#password').val();
            var password2 = $('#password2').val();
            form.clear();
            if ( form.check() ) {
              if ( password === password2  ) {
                $('[form-signup]').submit();
              } else {
                $('.flash-message').html('The passwords must be equal').show();
              }
            } 
        });
    </script>
  </body>
</html>